package main

const tpl = `
// Code generated by protoc-gen-golug. DO NOT EDIT.
{%- if !fd.GetOptions().GetDeprecated() %}
// source: {{fd.GetName()}}
{%- else %}
// {{fd.GetName()}} is a deprecated file.
{%- endif %}

package {{pkg}}
import (
	"reflect"

	"github.com/pubgo/golug/golug_data"
	"github.com/pubgo/golug/golug_entry"
)

{% for s in fd.GetService() %}
	func init() {
		var _mth []golug_entry.GrpcRestHandler
		for _, m := range ss.GetMethod() {
			_mth = append(_mth, golug_entry.GrpcRestHandler{
				Name:          m.GetName(),
				Method:        m.HttpMethod,
				Path:          m.HttpPath,
				ClientStream:  m.CS,
				ServerStreams: m.SS,
			})
		}
		golug_data.Add(reflect.ValueOf(Register{{s.Srv}}Server),_mth)
	}
{% endfor %}`
