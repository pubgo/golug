{
  "swagger": "2.0",
  "info": {
    "title": "perm/v1/role.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "perm.v1.RoleService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/perm.v1.RoleService/AddRoleForUser": {
      "post": {
        "summary": "add role to user\nall parameters are required",
        "operationId": "RoleService_AddRoleForUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/AddRoleForUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AddRoleForUserRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/CreateRole": {
      "post": {
        "summary": "create role",
        "operationId": "RoleService_CreateRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/CreateRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateRoleRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/DelRoleForUser": {
      "post": {
        "summary": "delete user org\nall parameters are required\nif {role_id} is *, it will delete all role about the user",
        "operationId": "RoleService_DelRoleForUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/DelRoleForUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DelRoleForUserRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/DeleteRole": {
      "post": {
        "summary": "*\n- delete role by id or name\n- req: id=12\n- req: name=admin,org_id=ka",
        "operationId": "RoleService_DeleteRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/DeleteRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DeleteRoleRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/GetRole": {
      "post": {
        "summary": "get role by id",
        "operationId": "RoleService_GetRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetRoleRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/GetRolesForUser": {
      "post": {
        "summary": "get user all roles\n{org_id} and {user_id} are required",
        "operationId": "RoleService_GetRolesForUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetRolesForUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetRolesForUserRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/GetUsersForRole": {
      "post": {
        "summary": "get users from a {role_id}\nif {role_id} is null, you will get all users of the {org_id}",
        "operationId": "RoleService_GetUsersForRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetUsersForRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetUsersForRoleRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/ListRoles": {
      "post": {
        "summary": "list role by org_id",
        "operationId": "RoleService_ListRoles",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ListRolesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ListRolesRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    },
    "/perm.v1.RoleService/UpdateRole": {
      "post": {
        "summary": "*\n- update role by id or name\n- req: id=12\n- req: name=admin,org_id=ka",
        "operationId": "RoleService_UpdateRole",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/UpdateRoleResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateRoleRequest"
            }
          }
        ],
        "tags": [
          "perm.v1.RoleService"
        ]
      }
    }
  },
  "definitions": {
    "AddRoleForUserRequest": {
      "type": "object",
      "properties": {
        "orgId": {
          "type": "string"
        },
        "userId": {
          "type": "string"
        },
        "roleId": {
          "type": "string"
        }
      }
    },
    "AddRoleForUserResponse": {
      "type": "object",
      "properties": {
        "ok": {
          "type": "boolean"
        }
      }
    },
    "Any": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "CreateRoleRequest": {
      "type": "object",
      "properties": {
        "role": {
          "$ref": "#/definitions/Role"
        }
      }
    },
    "CreateRoleResponse": {
      "type": "object",
      "properties": {
        "role": {
          "$ref": "#/definitions/Role"
        }
      }
    },
    "DelRoleForUserRequest": {
      "type": "object",
      "properties": {
        "orgId": {
          "type": "string"
        },
        "userId": {
          "type": "string"
        },
        "roleId": {
          "type": "string"
        }
      }
    },
    "DelRoleForUserResponse": {
      "type": "object",
      "properties": {
        "ok": {
          "type": "boolean"
        }
      }
    },
    "DeleteRoleRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        },
        "name": {
          "type": "string"
        },
        "orgId": {
          "type": "string"
        }
      }
    },
    "DeleteRoleResponse": {
      "type": "object"
    },
    "GetRoleRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "GetRoleResponse": {
      "type": "object",
      "properties": {
        "role": {
          "$ref": "#/definitions/Role"
        }
      }
    },
    "GetRolesForUserRequest": {
      "type": "object",
      "properties": {
        "orgId": {
          "type": "string"
        },
        "userId": {
          "type": "string"
        }
      }
    },
    "GetRolesForUserResponse": {
      "type": "object",
      "properties": {
        "roles": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "GetUsersForRoleRequest": {
      "type": "object",
      "properties": {
        "orgId": {
          "type": "string"
        },
        "roleId": {
          "type": "string"
        }
      }
    },
    "GetUsersForRoleResponse": {
      "type": "object",
      "properties": {
        "users": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "ListRolesRequest": {
      "type": "object",
      "properties": {
        "orgId": {
          "type": "string"
        }
      }
    },
    "ListRolesResponse": {
      "type": "object",
      "properties": {
        "roles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Role"
          }
        }
      }
    },
    "Role": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32",
          "title": "role id"
        },
        "name": {
          "type": "string",
          "title": "role name, e.g. \"admin or 123456\""
        },
        "status": {
          "type": "string",
          "title": "role status"
        },
        "orgId": {
          "type": "string",
          "title": "org id,"
        },
        "displayName": {
          "type": "string",
          "title": "role display name, e.g. \"administrators\""
        }
      }
    },
    "Status": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Any"
          }
        }
      }
    },
    "UpdateRoleRequest": {
      "type": "object",
      "properties": {
        "role": {
          "$ref": "#/definitions/Role"
        }
      }
    },
    "UpdateRoleResponse": {
      "type": "object",
      "properties": {
        "role": {
          "$ref": "#/definitions/Role"
        }
      }
    }
  }
}
